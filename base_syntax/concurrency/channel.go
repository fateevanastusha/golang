package main

import (
	"fmt"
	"time"
)

func main() {
	/*
		–ö–∞–Ω–∞–ª ‚Äî —ç—Ç–æ –∫–∞–∫ —è—â–∏–∫, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –¥—Ä—É–≥—É—é.
		–ù–æ —ç—Ç–æ—Ç ‚Äú—è—â–∏–∫‚Äù –º–æ–∂–µ—Ç –±—ã—Ç—å:

		üîí –ù–µ–±—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (make(chan string))
			‚Ä¢	–û–Ω –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è.
			‚Ä¢	–û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—å) –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã.
			‚Ä¢	–ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª–æ–∂–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ –≥–æ—Ç–æ–≤ –µ–≥–æ –≤–∑—è—Ç—å ‚Äî –æ–Ω –∂–¥—ë—Ç.

		üì• –ë—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (make(chan string, 1))
			‚Ä¢	–û–Ω –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –∏–ª–∏ –±–æ–ª—å—à–µ).
			‚Ä¢	–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª–æ–∂–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –µ—â—ë –Ω–µ—Ç ‚Äî –µ—Å–ª–∏ –≤ –±—É—Ñ–µ—Ä–µ –µ—Å—Ç—å –º–µ—Å—Ç–æ.
	*/

	//1) —Å–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª
	/*
		channel := make(chan string, 1)
		(–Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏–π, –≤—Ç–æ—Ä—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤))
	*/

	//2) –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
	/*
		channel <- "HI FROM SENDMESSAGE"
	*/

	//3) –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
	/*
		1) —á—Ç–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:
		message := <-channel

		–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –º–æ–∂–Ω–æ —Ç–∞–∫:

		v, ok := <-ch
		(–µ—Å–ª–∏ –∫–∞–Ω–∞–ª –ø—É—Å—Ç - v = nil, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç - ok = false)


		2) —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
		for v := range channel {
			fmt.Println(v)
		}

		range —á–∏—Ç–∞–µ—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞ –∏ –∂–¥–µ—Ç –Ω–æ–≤—ã—Ö, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –µ—â–µ –Ω–µ –∑–∞–∫—Ä—ã—Ç. –¶–∏–∫–ª –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, —Ç–æ–ª—å–∫–æ
		–∫–æ–≥–¥–∞ –∫–∞–Ω–∞–ª –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—É—Å—Ç–æ—à–µ–Ω. –ü–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å close(channel).
	*/

	//4) –∑–∞–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (—á–∏—Ç–∞—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±—É–¥–µ—Ç –º–æ–∂–Ω–æ). –ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª –Ω–µ –æ—á–∏—â–∞–µ—Ç.
	/*
		close(channel)
	*/

	//5) cap() –∏ len()
	/*
		–ö–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç –¥–≤–∞ —Å–≤–æ–π—Å—Ç–≤–∞: –¥–ª–∏–Ω—É –∏ —ë–º–∫–æ—Å—Ç—å. –î–ª–∏–Ω–∞ –∫–∞–Ω–∞–ª–∞ ‚Äî —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ
		–≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞–Ω–∞–ª–µ, –∞ —ë–º–∫–æ—Å—Ç—å ‚Äî —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –∫–∞–Ω–∞–ª –º–æ–∂–µ—Ç
		–≤–º–µ—â–∞—Ç—å.
	*/

	c := make(chan int, 1)      // –ö–∞–Ω–∞–ª —Å –±—É—Ñ–µ—Ä–æ–º —Ä–∞–∑–º–µ—Ä–æ–º 1
	fmt.Println(len(c), cap(c)) // 0 1
	c <- 1
	fmt.Println(len(c), cap(c)) // 1 1
	close(c)

	fmt.Println("---------------------------------------------------------------------------------------------------")

	//6) –ø—Ä–∏–º–µ—Ä

	channel := make(chan string, 10)
	channel <- "HI FROM SENDMESSAGE"

	fmt.Println(<-channel) //HI FROM SENDMESSAGE

	/*
		–¢–∞–∫–æ–π –∫–æ–¥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ:

		1) –≤ –Ω–µ–±—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
		2) —Ç–∞–∫ –∫–∞–∫ –±—É—Ñ–µ—Ä–∞ –Ω–µ—Ç, —Ç–æ –æ–Ω –∂–¥–µ—Ç –ø–æ–∫–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫—Ç–æ-—Ç–æ –¥–æ—Å—Ç–∞–Ω–µ—Ç
		3) –∫–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –¥–æ–π—Ç–∏ –¥–æ —Å—Ç—Ä–æ–∫–∏ —á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–¥—ã–¥—É—â–∞—è (–æ–∂–∏–¥–∞–Ω–∏–µ —á—Ç–µ–Ω–∏—è)
		–µ—â–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å
		4) –≤–∑–∞–∏–º–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ - deadlock (–æ—à–∏–±–∫–∞).

		channel := make(chan string)
		channel <- "HI FROM SENDMESSAGE"

		fmt.Print(<-channel)
	*/

	channel <- "ONE"
	channel <- "TWO"
	channel <- "THREE"
	channel <- "FOUR"
	channel <- "FIVE"

	close(channel)

	for v := range channel {
		fmt.Println(v)
	}

	/*
		+---------------------------+------------------------------+-----------------------------------------+
		|                           | –ë—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª       | –ö–∞–Ω–∞–ª –±–µ–∑ –±—É—Ñ–µ—Ä–∞                        |
		+---------------------------+------------------------------+-----------------------------------------+
		| –¶–µ–ª—å                      | –ß—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å         | –ß—Ç–æ–±—ã –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å                       |
		|                           | –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è     | (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å) –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏        |
		|                           |                              | –ø–æ–ª—É—á–∞—Ç–µ–ª—è                              |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å        | –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å | –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É  |
		|                           | —Ä–∞–±–æ—Ç—É –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å          | –±–µ–∑ –ø–æ–ª—É—á–∞—Ç–µ–ª—è                          |
		|                           | –ø–æ–ª—É—á–∞—Ç–µ–ª—è                   |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ï—Å–ª–∏ –±—É—Ñ–µ—Ä                | –ï—Å–ª–∏ –±—É—Ñ–µ—Ä, —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å      | –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π        |
		| —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å               | –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å       | –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ                  |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ë–ª–æ–∫–∏—Ä—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ     | –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –±—É—Ñ–µ—Ä –ø–æ–ª–æ–Ω| –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å, –ø–æ–∫–∞           |
		|                           |                              | –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –Ω–µ –≥–æ—Ç–æ–≤ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å        | –ú–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å              | –í–æ–∑–º–æ–∂–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–∑-–∑–∞                 |
		|                           | –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞ —Å—á—ë—Ç   | —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏                           |
		|                           | —É–º–µ–Ω—å—à–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏     |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è     | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º   | –ü–µ—Ä–µ–¥–∞—á–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏      |
		|                           | —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏           |                                         |
		|                           | –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –∫–æ–≥–¥–∞    | –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫            |
		|                           | —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –°–ª–æ–∂–Ω–æ—Å—Ç—å                 | –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–π         | –í—Å—ë –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ                    |
		|                           | –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É—Ñ–µ—Ä–∞ –∏–∑-–∑–∞       |                                         |
		|                           | –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è                 |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã         | –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–æ–ø. –ø–∞–º—è—Ç—å –Ω–∞    | –î–æ–ø. –ø–∞–º—è—Ç—å –Ω–µ –Ω—É–∂–Ω–∞                    |
		|                           | –±—É—Ñ–µ—Ä                        |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ú–æ–¥–µ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏     | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ   | –°—Ç—Ä–æ–≥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ            |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏       | –î–µ–¥–ª–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏      | –î–µ–¥–ª–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏                   |
		|                           |                              | –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è/–ø–æ–ª—É—á–∞—Ç–µ–ª—è                  |
		+---------------------------+------------------------------+-----------------------------------------+
	*/

	fmt.Println("---------------------------------------------------------------------------------------------------")

	sender := func(ch chan string, done chan bool) {
		for i := 1; i <= 3; i++ {
			ch <- fmt.Sprintf("message %d", i)
			time.Sleep(100 * time.Millisecond)
		}
		close(ch) // –ó–∞–∫—Ä—ã–≤–∞–µ–º –∫–∞–Ω–∞–ª –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
		done <- true
	}

	receiver := func(ch chan string, done chan bool) {
		// range –ø–æ–∑–≤–æ–ª—è–µ—Ç —á–∏—Ç–∞—Ç—å –∫–∞–Ω–∞–ª –ø–æ–∫–∞ –æ–Ω –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è(–≥–ª–∞–≤–Ω–æ–µ –µ–≥–æ –∑–∞–∫—Ä—ã—Ç—å)
		for msg := range ch {
			fmt.Println("Received:", msg)
		}
		done <- true
	}

	ch := make(chan string)
	senderDone := make(chan bool)
	receiverDone := make(chan bool)

	go sender(ch, senderDone)
	go receiver(ch, receiverDone)

	// –±–ª–æ–∫–∏—Ä—É–µ–º—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –Ω–µ –æ—Ç—Ä–∞–±–æ—Ç–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–∏
	<-senderDone
	<-receiverDone

	fmt.Println("All operations completed!")

	/*
		–ó–∞–ø—É—Å–∫(t=0ms)
		main –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç 3 –∫–∞–Ω–∞–ª–∞

		ch - –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

		senderDone - —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

		receiverDone - —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

		main –∑–∞–ø—É—Å–∫–∞–µ—Ç 2 –≥–æ—Ä—É—Ç–∏–Ω—ã

		sender

		receiver

		–ú–∞–∏–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏ –∂–¥–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

		–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (t=1ms)
		sender –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "message 1" –≤ –∫–∞–Ω–∞–ª ch.

		receiver –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

		–í—ã–≤–æ–¥–∏—Ç: "Received: message 1".

		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∑–∞—Å—ã–ø–∞–µ—Ç –Ω–∞ 100 –º—Å.

		–í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (t=101ms)
		sender –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "message 2" –≤ –∫–∞–Ω–∞–ª ch.

		receiver –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

		–í—ã–≤–æ–¥–∏—Ç: "Received: message 2".

		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —Å–Ω–æ–≤–∞ –∑–∞—Å—ã–ø–∞–µ—Ç –Ω–∞ 100 –º—Å.

		–¢—Ä–µ—Ç—å–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (t=201ms)
		sender –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "message 3" –≤ –∫–∞–Ω–∞–ª ch.

		receiver –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

		–í—ã–≤–æ–¥–∏—Ç: "Received: message 3".

		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∑–∞—Å—ã–ø–∞–µ—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑.

		–ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª–∞ (t=301ms)
		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–æ–Ω –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–Ω–∞–ª ch.

		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª true –≤ –∫–∞–Ω–∞–ª senderDone, —É–∫–∞–∑—ã–≤–∞—è –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã.

		–ü–æ–ª—É—á–∞—Ç–µ–ª—å –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç, —á—Ç–æ –∫–∞–Ω–∞–ª ch –∑–∞–∫—Ä—ã—Ç.

		–ü–æ–ª—É—á–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ü–∏–∫–ª–∞ for-range.

		–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (t=302-303ms)
		main –ø–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –æ—Ç senderDone –∏ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –æ–∂–∏–¥–∞–Ω–∏–µ.

		main –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç receiverDone.

		–ü–æ–ª—É—á–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤ –∫–∞–Ω–∞–ª receiverDone.

		main –ø–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –∏ –≤—ã–≤–æ–¥–∏—Ç:

		"All operations completed!".

		–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.
	*/

	fmt.Println("---------------------------------------------------------------------------------------------------")

	downloadFile := func(filename string, done chan bool) {
		fmt.Printf("Starting download: %s\n", filename)
		time.Sleep(2 * time.Second)
		fmt.Printf("Finished download: %s\n", filename)

		done <- true // –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
	}

	fmt.Println("Starting downloads...")

	startTime := time.Now()

	// —Å–æ–∑–¥–∞–µ–º –∫–∞–Ω–∞–ª –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≥–æ—Ä—É—Ç–∏–Ω
	done := make(chan bool)

	go downloadFile("file1.txt", done)
	go downloadFile("file2.txt", done)
	go downloadFile("file3.txt", done)

	// –ñ–¥–µ–º –ø–æ–∫–∞ –≤—Å–µ –≥–æ—Ä—É—Ç–∏–Ω—ã —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç –æ –∑–∞–∫—Ä—ã—Ç–∏–∏
	for i := 0; i < 3; i++ {
		<-done // –ü–æ–ª—É—á–∞–µ–º —Å–∏–≥–Ω–∞–ª –æ—Ç –∫–∞–∂–¥–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–π –≥–æ—Ä—É—Ç–∏–Ω—ã
	}

	elapsedTime := time.Since(startTime)
	fmt.Printf("All downloads completed! Time elapsed: %s\n", elapsedTime)

	fmt.Println("---------------------------------------------------------------------------------------------------")

	/*
		1)
			–ù–ï–ë–£–§–ï–†–ò–ó–û–í–ê–ù–ù–´–ï –ö–ê–ù–ê–õ–´
			- —ç—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è, –≤–∫–ª—é—á–∞—é—â–∞—è –≤ —Å–µ–±—è:
			1) —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Ä–æ–ª–∏ (—á–∏—Ç–∞—Ç–µ–ª–∏ –∏ –ø–∏—Å–∞—Ç–µ–ª–∏)
			2) –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ä–æ–ª–∏
			3) –∫–æ–Ω–µ–∫—Ä–µ–Ω—Ç–Ω–æ-–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø–∏—Å–∞—Ç–µ–ª—è –∫ —á–∏—Ç–∞—Ç–µ–ª—é "–∏–∑ —Ä—É–∫ –≤ —Ä—É–∫–∏"
			4) –±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ "–≤—Ç–æ—Ä–æ–π —Å—Ç–æ—Ä–æ–Ω—ã"
			5) –æ—á–µ—Ä–µ–¥–∏ –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª–µ–π –∏ –ø–∏—Å–∞—Ç–µ–ª–µ–π
			6) —Ä–æ–ª–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ (–∏ —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å)
			–ù–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏ - —ç—Ç–æ –∫–æ–Ω–µ—á–Ω–∞—è —Ü–µ–ª—å
			–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.

			–ë–£–§–ï–†–ò–ó–û–í–ê–ù–ù–´–ï –ö–ê–ù–ê–õ–´

			–ö–∞–Ω–∞–ª —Å –±—É—Ñ–µ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≥–æ—Ä—É—Ç–∏–Ω—ã –ø–µ—Ä–µ–¥–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É —Å–ª—É–∂–µ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º
			–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ —Å –±—É—Ñ–µ—Ä–æ–º —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö - –æ–≤–µ—Ä—Ö–µ–¥.

			–ï—Å–ª–∏ –±–µ–∑ –±—É—Ñ–µ—Ä–∞ —Ç–æ—á–Ω–æ –Ω–µ –æ–±–æ–π—Ç–∏—Å—å - –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è
			—Ç–∏–ø–∞ Kafka (–æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π).

		2)
			–ê–ö–°–ò–û–ú–´ –ö–ê–ù–ê–õ–û–í
			(
				*–Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∫–∞–Ω–∞–ª–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä—è–≤–ª–µ–Ω–∞, –Ω–æ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é
				make –∏–ª–∏ –Ω–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º:
				var ch chan int // –æ–±—ä—è–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
			)
			1) –Ω–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π:
			+-------------+----------------------------------+-----------------------+--------------------------+
			|             |           –û—Ç–∫—Ä—ã—Ç—ã–π               |      –ó–∞–∫—Ä—ã—Ç—ã–π         |   –ù–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π   |
			+-------------+----------------------------------+-----------------------+--------------------------+
			| –ß—Ç–µ–Ω–∏–µ      | –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ –ø—Ä–∏—Ö–æ–¥–∞ –ø–∏—Å–∞—Ç–µ–ª—è   | –≤–µ—Ä–Ω–µ—Ç—Å—è zero value   | –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞–≤—Å–µ–≥–¥–∞      |
			| –ó–∞–ø–∏—Å—å      | –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ –ø—Ä–∏—Ö–æ–¥–∞ —á–∏—Ç–∞—Ç–µ–ª—è   | panic                 | –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞–≤—Å–µ–≥–¥–∞      |
			| –ó–∞–∫—Ä—ã—Ç–∏–µ    | –∫–∞–Ω–∞–ª –∑–∞–∫—Ä–æ–µ—Ç—Å—è                  | panic                 | panic                    |
			+-------------+----------------------------------+-----------------------+--------------------------+
			—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å - —ç—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
			2) –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π:
			+-------------+-----------------------------+-------------------------+-----------------------------+------------------------------+
			|             | –û—Ç–∫—Ä—ã—Ç—ã–π –∏ —á–∞—Å—Ç–∏—á–Ω–æ         | –û—Ç–∫—Ä—ã—Ç—ã–π –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é    | –û—Ç–∫—Ä—ã—Ç—ã–π –∏ –ø—É—Å—Ç–æ–π           | –ó–∞–∫—Ä—ã—Ç—ã–π –∏ —á–∞—Å—Ç–∏—á–Ω–æ          |
			|             | –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π                 | –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π             |                             | –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π                  |
			+-------------+-----------------------------+-------------------------+-----------------------------+------------------------------+
			| –ß—Ç–µ–Ω–∏–µ      | –ø—Ä–æ—á–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ          | –ø—Ä–æ—á–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ      | –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ –ø—Ä–∏—Ö–æ–¥–∞       | –ø—Ä–æ—á–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ           |
			|             |                             |                         | –ø–∏—Å–∞—Ç–µ–ª—è                    |                              |
			| –ó–∞–ø–∏—Å—å      | –∑–∞–ø–∏—à–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ            | –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ –ø—Ä–∏—Ö–æ–¥–∞   | –∑–∞–ø–∏—à–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ            | panic                        |
			|             |                             | —á–∏—Ç–∞—Ç–µ–ª—è                |                             |                              |
			+-------------+-----------------------------+-------------------------+-----------------------------+------------------------------+
			3) –∫–∞–Ω–∞–ª —Ç–æ–ª—å–∫–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ:
			+-------------+------------------------+
			| –û–ø–µ—Ä–∞—Ü–∏—è    | –ü–æ–≤–µ–¥–µ–Ω–∏–µ              |
			+-------------+------------------------+
			| –ó–∞–ø–∏—Å—å      | –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏      |
			| –ó–∞–∫—Ä—ã—Ç–∏–µ    | –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏      |
			+-------------+------------------------+
			4) –∫–∞–Ω–∞–ª —Ç–æ–ª—å–∫–æ –Ω–∞ –∑–∞–ø–∏—Å—å:
			+----------+------------------------+
			| –û–ø–µ—Ä–∞—Ü–∏—è | –ü–æ–≤–µ–¥–µ–Ω–∏–µ              |
			+----------+------------------------+
			| –ß—Ç–µ–Ω–∏–µ   | –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏      |
			+----------+------------------------+

	*/

	/*
		fork/join –º–æ–¥–µ–ª—å
		—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥–æ—Ä—É—Ç–∏–Ω, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤:
			- sync.WaitGroup{}
			- –∫–∞–Ω–∞–ª—ã
		–≤—Å–µ–≥–¥–∞ –ª–∏ –Ω–∞–¥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä—É—Ç–∏–Ω—ã? - –Ω–µ—Ç

		race condition - –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä—É—Ç–∏–Ω –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–¥–Ω–æ–º—É –∫—É—Å–∫—É –¥–∞–Ω–Ω—ã—Ö
		read V => edit V => write V (–∏ –≤ –∫–∞–∫–æ–π-—Ç–æ –∏–∑ —ç—Ç–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –º–æ–∂–µ—Ç –≤–∫–ª–∏–Ω–∏—Ç—å—Å—è –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
		–∫–∞–∫ —Ä–µ—à–∏—Ç—å?
			- atomic (–¥–∞–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å - –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —à—Ç—É–∫–∞)
			- sync.Mutex{}
			- sync.RWMutex{} (—á–∏—Ç–∞—Ç–µ–ª–µ–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ)
		—á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø—Ä–æ race - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ go run -race filename.go (–Ω–µ —Ñ–∞–∫—Ç —á—Ç–æ –ø–æ–º–æ–∂–µ—Ç, —Ç–∞–∫
		–∫–∞–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ).

		–∫–∞–Ω–∞–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –∏ –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏. –û–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è
		–∏ –∑–∞–ø–∏—Å–∏ - –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ


	*/

}
